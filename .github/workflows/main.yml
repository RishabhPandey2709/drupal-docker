name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Run a one-line script
      run: echo Hello, world!
    - name: Run a multi-line script
      run: |
        echo Add other actions to build,
        echo test, and deploy your project.
    - name: docker build

      uses: actions/docker/cli@master

      
      args: build -t imrishbah27/github-action-example .

    - name: docker login

      uses: actions/docker/login@master

      env:

      DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_PASSWORD }}

      DOCKER_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}

    - name: docker push

      uses: actions/docker/cli@master

      

      args: push imrishbah27/github-action-example

